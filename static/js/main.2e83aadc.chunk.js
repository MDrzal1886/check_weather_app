(this.webpackJsonpcheck_weather_app=this.webpackJsonpcheck_weather_app||[]).push([[0],[,,,,,,,,,,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var a=n(1),r=n.n(a),s=n(4),i=n.n(s),c=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,17)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,s=t.getLCP,i=t.getTTFB;n(e),a(e),r(e),s(e),i(e)}))},o=n(2),l=n(0),m=Object(a.createContext)(),d=function(e){var t=e.children,n=Object(a.useState)(""),r=Object(o.a)(n,2),s=r[0],i=r[1],c=Object(a.useState)(!1),d=Object(o.a)(c,2),u=d[0],p=d[1],h=Object(a.useState)(0),j=Object(o.a)(h,2),_=j[0],b=j[1],O=Object(a.useState)({code:"",description:"",humidity:0,pressure:0,sunRise:0,sunSet:0,temperature:0,temperatureFeels:0,timezone:0,windSpeed:0}),C=Object(o.a)(O,2),f=C[0],x=C[1],g=Object(a.useState)(!0),N=Object(o.a)(g,2),w=N[0],y=N[1];Object(a.useEffect)((function(){var e="https://api.openweathermap.org/data/2.5/weather?q=".concat(s,"&units=metric&APPID=").concat("92ed051ea808c3123500bd8d06fcb003","&lang=pl");s.length>0&&fetch(e).then((function(e){return e.ok?e.json():void b(e.status)})).then((function(e){return Boolean(e)?x({code:e.weather[0].icon,description:e.weather[0].description,humidity:e.main.humidity,pressure:e.main.pressure,sunRise:e.sys.sunrise,sunSet:e.sys.sunset,temperature:e.main.temp,temperatureFeels:e.main.feels_like,timezone:e.timezone,windSpeed:e.wind.speed}):p(!0)})).catch((function(){return p(!0)}))}),[s]);return Object(l.jsx)(m.Provider,{value:{city:s,error:u,errorCode:_,handleCloseClick:function(){x({code:"",description:"",humidity:0,pressure:0,sunRise:0,sunSet:0,temperature:0,temperatureFeels:0,timezone:0,windSpeed:0}),p(!1),i(""),b(0)},setCity:i,weather:f,dayOrNightStyles:w,setDayOrNightStyles:y},children:t})},u=(n(10),function(e){var t=e.message,n=e.code;return Object(l.jsxs)("div",{className:"errorDescriptionContainer",children:[Object(l.jsx)("span",{children:n}),Object(l.jsxs)("p",{children:[" ",t]})]})}),p=(n(11),n.p+"static/media/error.52091a3e.svg"),h=function(){var e=Object(a.useContext)(m),t=e.errorCode,n=e.dayOrNightStyles,r=e.handleCloseClick,s=function(){switch(t){case 401:return Object(l.jsx)(u,{message:"Klucz jest nie aktywny",code:t});case 404:return Object(l.jsx)(u,{message:"Co\u015b \u017ale wpisane! Nie znajduj\u0119 takiego miejsca :(",code:t});case 429:return Object(l.jsx)(u,{message:"Limit przekroczony! Spr\xf3buj ponownie p\xf3\u017aniej",code:t});default:return Object(l.jsx)(u,{message:"Co\u015b nie tak u mnie :( Przepraszam :(",code:t})}}(),i=n?"errorPanelContainer":"errorPanelContainer errorPanelContainer--night";return Object(l.jsxs)("div",{className:i,children:[Object(l.jsx)("img",{src:p,alt:"B\u0142\u0105d"}),s,Object(l.jsx)("button",{onClick:r,className:"exitButton",children:"X"})]})},j=(n(12),function(){var e=Object(a.useState)(""),t=Object(o.a)(e,2),n=t[0],r=t[1],s=Object(a.useState)(!1),i=Object(o.a)(s,2),c=i[0],d=i[1],u=Object(a.useContext)(m),p=u.setCity,h=u.dayOrNightStyles,j=c?Object(l.jsx)("p",{className:"formContainer__form__hint",children:"*Wi\u0119cej miejsc o tej nazwie? Wpisz po przecinku symbol pa\u0144stwa (np. DUBLIN,IE)"}):null,_=h?"formContainer__form__input":"formContainer__form__input formContainer__form__input--night",b=h?"formContainer":"formContainer formContainer--night",O=h?"formContainer__form":"formContainer__form formContainer__form--night",C=h?"formContainer__form__button":"formContainer__form__button formContainer__form__button--night";return Object(l.jsx)("div",{className:b,children:Object(l.jsxs)("form",{onSubmit:function(e){e.preventDefault(),p(n),r(""),d(!1)},className:O,children:[j,Object(l.jsx)("input",{type:"text",value:n,onChange:function(e){return r(e.target.value.toUpperCase())},onFocus:function(){d(!0)},placeholder:"Wpisz miejsce...",className:_}),Object(l.jsx)("button",{type:"submit",className:C,children:"sprawd\u017a"})]})})}),_=function(e){var t=e.getTimeToShow,n=Object(a.useContext)(m),r=n.dayOrNightStyles,s=n.weather,i=s.humidity,c=s.pressure,o=s.sunRise,d=s.sunSet,u=s.temperatureFeels,p=s.timezone,h=s.windSpeed,j=t(1e3*(o+p)),_=t(1e3*(d+p)),b=r?"otherParametersContainer__element":"otherParametersContainer__element otherParametersContainer__element--night";return Object(l.jsxs)("div",{className:"otherParametersContainer",children:[Object(l.jsxs)("div",{className:b,children:[Object(l.jsxs)("p",{className:"otherParametersContainer__element__description",children:["Wsch\xf3d s\u0142o\u0144ca",Object(l.jsx)("span",{className:"otherParametersContainer__element__description__value",children:j})]}),Object(l.jsxs)("p",{className:"otherParametersContainer__element__description",children:["Zach\xf3d s\u0142o\u0144ca",Object(l.jsx)("span",{className:"otherParametersContainer__element__description__value",children:_})]})]}),Object(l.jsxs)("div",{className:b,children:[Object(l.jsxs)("p",{className:"otherParametersContainer__element__description",children:["Pr\u0119dko\u015b\u0107 wiatru",Object(l.jsxs)("span",{className:"otherParametersContainer__element__description__value",children:[h,"km/h"]})]}),Object(l.jsxs)("p",{className:"otherParametersContainer__element__description",children:["Odczuwalna",Object(l.jsxs)("span",{className:"otherParametersContainer__element__description__value",children:[u.toFixed(),"\xb0C"]})]})]}),Object(l.jsxs)("div",{className:"otherParametersContainer__element",children:[Object(l.jsxs)("p",{className:"otherParametersContainer__element__description",children:["Wilgotno\u015b\u0107",Object(l.jsxs)("span",{className:"otherParametersContainer__element__description__value",children:[i,"%"]})]}),Object(l.jsxs)("p",{className:"otherParametersContainer__element__description",children:["Ci\u015bnienie",Object(l.jsxs)("span",{className:"otherParametersContainer__element__description__value",children:[c,"hPa"]})]})]})]})},b=(n(13),n.p+"static/media/cloudsDay.bff703eb.mp4"),O=n.p+"static/media/cloudsNight.d05fede6.mp4",C=n.p+"static/media/clearSky.03798eab.mp4",f=n.p+"static/media/clearSkyNight.f3fa4f0a.mp4",x=n.p+"static/media/mist.467e107b.mp4",g=n.p+"static/media/mistNight.4d03c8e6.mp4",N=n.p+"static/media/rain.ba986cdc.mp4",w=n.p+"static/media/rainNight.4b6c02a3.mp4",y=n.p+"static/media/snow.5685d1ba.mp4",v=n.p+"static/media/snowNight.046bda54.mp4",P=n.p+"static/media/thunderstorm.d894cde0.mp4",S=function(){var e=Object(a.useContext)(m),t=e.dayOrNightStyles,n=e.handleCloseClick,r=e.city,s=e.weather,i=s.code,c=s.description,o=s.temperature,d=s.timezone,u=function(){if(i)switch(i){case"11d":case"11n":return P;case"02d":case"03d":case"04d":return b;case"02n":case"03n":case"04n":return O;case"09d":case"10d":return N;case"09n":case"10n":return w;case"13d":return y;case"13n":return v;case"50d":return x;case"50n":return g;case"01d":return C;case"01n":return f;default:return}}(),p=function(e){var t=Math.floor(e/6e4%60),n=Math.floor(e/36e5%24);return"".concat(n<10?"0".concat(n):n,":").concat(t<10?"0".concat(t):t)},h=p((new Date).getTime()+1e3*d),j=t?"weatherPanelContainer":"weatherPanelContainer weatherPanelContainer--night",S=t?"weatherPanelContainer__panel__strong":"weatherPanelContainer__panel__strong weatherPanelContainer__panel__strong--night";return Object(l.jsxs)("div",{className:j,children:[Object(l.jsx)("video",{autoPlay:!0,loop:!0,muted:!0,playsinline:!0,src:u,type:"video/mp4",className:"weatherPanelContainer__video"}),Object(l.jsxs)("div",{className:"weatherPanelContainer__panel",children:[Object(l.jsx)("h1",{children:r.toUpperCase()}),Object(l.jsx)("p",{className:"weatherPanelContainer__panel__timeAndDescription",children:h}),Object(l.jsx)("p",{className:"weatherPanelContainer__panel__timeAndDescription",children:c}),Object(l.jsxs)("strong",{className:S,children:[o.toFixed(),"\xb0C"]}),Object(l.jsx)(_,{getTimeToShow:p}),Object(l.jsx)("button",{onClick:n,className:"exitButton",children:"X"})]})]})},k=n.p+"static/media/backgroundDay.a703c347.jpg",z=n.p+"static/media/backgroundNight.1c335e68.jpg";n(14);var D=function(){var e=Object(a.useContext)(m),t=e.city,n=e.error,r=e.setDayOrNightStyles,s=e.dayOrNightStyles,i=e.weather,c=Boolean(t)&&!n&&Boolean(i.code)?Object(l.jsx)(S,{}):null,o=n?Object(l.jsx)(h,{}):null,d=Boolean(t)?null:Object(l.jsx)(j,{}),u=(new Date).getHours();Object(a.useEffect)((function(){u>=19||u<=5?s&&r(!1):(u<=19||u>=5)&&(s||r(!0))}),[r,s,u]);var p={backgroundImage:"url(".concat(s?k:z,")")};return Object(l.jsxs)("div",{className:"app",style:p,children:[d,c,o]})};n(15);i.a.render(Object(l.jsx)(r.a.StrictMode,{children:Object(l.jsx)(d,{children:Object(l.jsx)(D,{})})}),document.getElementById("root")),c()}],[[16,1,2]]]);
//# sourceMappingURL=main.2e83aadc.chunk.js.map